/**
 * API documentation metadata
 */

const apiDocs = {
    title: "GreenCart API",
    version: "1.0.0",
    description: "Enterprise-level backend API for GreenCart",
    endpoints: [
        { method: "GET", path: "/api/products", auth: false },
        { method: "POST", path: "/api/users/register", auth: false },
        { method: "POST", path: "/api/orders", auth: true },
        { method: "GET", path: "/api/admin/dashboard", auth: true }
    ],
    generatedAt: new Date()
};

module.exports = apiDocs;
/**
 * Final application bootstrap with metrics
 */

const express = require("express");
const os = require("os");
const config = require("../config");
const connectDatabase = require("../database/database");

const app = express();
app.use(express.json());

app.get("/health", (req, res) => {
    res.json({
        status: "UP",
        app: config.app.name,
        environment: config.app.env,
        uptime: process.uptime(),
        memory: process.memoryUsage(),
        cpu: os.cpus().length,
        timestamp: new Date().toISOString()
    });
});

(async () => {
    await connectDatabase();
    app.listen(config.app.port, () => {
        console.log(
            `${config.app.name} running on port ${config.app.port}`
        );
    });
})();
